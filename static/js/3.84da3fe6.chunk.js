(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{133:function(e,t,a){"use strict";var r=a(11),n=a.n(r),o=a(13),s=a.n(o),i=a(0),c=a.n(i),l=a(3),u=a.n(l),m=a(31),p=function(e){function t(t){var a;if(a=e.call(this,t)||this,!t._reduxForm)throw new Error("Form must be inside a component decorated with reduxForm()");return a}s()(t,e);var a=t.prototype;return a.UNSAFE_componentWillMount=function(){this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit)},a.render=function(){var e=this.props,t=(e._reduxForm,n()(e,["_reduxForm"]));return c.a.createElement("form",t)},t}(i.Component);p.propTypes={onSubmit:u.a.func.isRequired,_reduxForm:u.a.object},t.a=Object(m.b)(p)},285:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(50),n=a(51),o=a(52),s=a(53),i=a(0),c=a.n(i),l=a(27),u=a(19),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(s.a)(i,t);var a=Object(o.a)(i);function i(){return Object(r.a)(this,i),a.apply(this,arguments)}return Object(n.a)(i,[{key:"render",value:function(){return this.props.isAuth?c.a.createElement(e,this.props):c.a.createElement(l.a,{to:"/login"})}}]),i}(c.a.Component);return Object(u.b)(m)(t)}},287:function(e,t,a){e.exports=a.p+"static/media/user.0ec44ea3.webp"},288:function(e,t,a){e.exports={wrapper:"ProfileData_wrapper__3FDvf",avatar__img:"ProfileData_avatar__img__3zsE9",name:"ProfileData_name__1ecZt",status:"ProfileData_status__2Ok0U",aboutMe:"ProfileData_aboutMe__UTH2C",skills:"ProfileData_skills__261AJ",contact:"ProfileData_contact__3UHmn",formSummaryError:"ProfileData_formSummaryError__VH-v_"}},293:function(e,t,a){e.exports={unclearBlock__img:"Profile_unclearBlock__img__2WXsU"}},294:function(e,t,a){e.exports={wrapper:"ProfileStatus_wrapper__3ggnE",error:"ProfileStatus_error__341er"}},295:function(e,t,a){e.exports={wrapper:"MyPosts_wrapper__3mPC7",postList:"MyPosts_postList__3KQb0"}},296:function(e,t,a){e.exports={ava:"Post_ava__25zUJ",post:"Post_post__3kC0c",wrapper:"Post_wrapper__1PbfS",likes:"Post_likes__1wKPd"}},297:function(e,t,a){e.exports={wrapper:"NewPost_wrapper__6vRnu",textarea:"NewPost_textarea__3doYO",submit:"NewPost_submit__3cPch"}},298:function(e,t,a){"use strict";a.r(t);var r=a(50),n=a(51),o=a(52),s=a(53),i=a(0),c=a.n(i),l=a(293),u=a.n(l),m=a(90);var p=a(121);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],r=!0,n=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(r=(s=i.next()).done)&&(a.push(s.value),!t||a.length!==t);r=!0);}catch(c){n=!0,o=c}finally{try{r||null==i.return||i.return()}finally{if(n)throw o}}return a}}(e,t)||Object(p.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=a(288),b=a.n(d),E=a(88),v=a(294),_=a.n(v),h=function(e){var t=f(Object(i.useState)(!1),2),a=t[0],r=t[1],n=f(Object(i.useState)(e.status),2),o=n[0],s=n[1];Object(i.useEffect)((function(){s(e.status)}),[e.status]);return c.a.createElement("div",{className:_.a.wrapper},"status:",!a&&c.a.createElement("div",null,c.a.createElement("span",{onDoubleClick:function(){e.isOwner&&r(!0)}},e.status||"-----")),a&&c.a.createElement("div",null,c.a.createElement("input",{value:o,onChange:function(e){s(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(o,e.isTestError)},autoFocus:!0})),e.updateStatusError&&c.a.createElement("div",{className:_.a.error},e.updateStatusError))},P=a(287),g=a.n(P),w=a(133),k=a(123),O=a(124),S=a(54),y=a(55),N=function(e){return c.a.createElement("div",{className:b.a.contact},e.contactTitle,c.a.createElement(k.a,{validate:[],component:S.a,placeholder:e.contactTitle,name:"contacts."+e.contactTitle}))},j=Object(O.a)({form:"profileInfo"})((function(e){return c.a.createElement(w.a,{onSubmit:e.handleSubmit,className:"".concat(b.a.description," clearfix")},c.a.createElement("div",null,c.a.createElement("button",null,"save")),e.error&&c.a.createElement("div",{className:b.a.formSummaryError},e.error),c.a.createElement("div",{className:b.a.name},"Name:",c.a.createElement(k.a,{validate:[y.b],component:S.a,placeholder:"Fullname",name:"fullName"})),c.a.createElement("div",{className:b.a.aboutMe},"About me:",c.a.createElement(k.a,{validate:[y.b],component:S.b,placeholder:"About me",name:"aboutMe"})),c.a.createElement("div",null,c.a.createElement(k.a,{validate:[],component:"input",type:"checkbox",placeholder:"",name:"lookingForAJob"}),"Looking for a job"),c.a.createElement("div",{className:b.a.skills},"Skills:",c.a.createElement(k.a,{validate:[y.b],component:S.b,placeholder:"My skills",name:"lookingForAJobDescription"})),c.a.createElement("div",null,"Contacts"),Object.keys(e.profile.contacts).map((function(t){return c.a.createElement(N,{key:t,contactTitle:t,contactValue:e.profile.contacts[t]})})))})),x=function(e){var t=e.profile,a=Object(m.a)(e,["profile"]);return c.a.createElement("div",{className:"".concat(b.a.description," clearfix")},a.isOwner&&c.a.createElement("div",null,c.a.createElement("button",{onClick:a.goToEditMode},"edit")),c.a.createElement("h2",{className:b.a.name},t.fullName),c.a.createElement("div",{className:b.a.aboutMe},c.a.createElement("b",null,"About me: "),t.aboutMe),c.a.createElement("div",null,c.a.createElement("b",null,"Looking for a job: ")," ",t.lookingForAJob?"Yes":"No"),c.a.createElement("div",{className:b.a.skills},c.a.createElement("b",null,"Skills: ")," ",t.lookingForAJobDescription),c.a.createElement("div",null,c.a.createElement("b",null,"Contacts: ")),Object.keys(t.contacts).map((function(e){return c.a.createElement(T,{key:e,contactTitle:e,contactValue:t.contacts[e]})})))},T=function(e){return c.a.createElement("div",{className:b.a.contact},c.a.createElement("span",null,c.a.createElement("b",null,e.contactTitle,": ")),c.a.createElement("span",null,e.contactValue))},A=function(e){var t=f(Object(i.useState)(!1),2),a=t[0],r=t[1];if(!e.profile)return c.a.createElement(E.a,null);return c.a.createElement("div",{className:b.a.wrapper},c.a.createElement("div",null,c.a.createElement("img",{className:b.a.avatar__img,src:e.profile.photos.large||g.a,alt:""}),e.isOwner&&c.a.createElement("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),c.a.createElement(h,{status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,updateStatusError:e.updateStatusError,isTestError:e.isTestError})),a?c.a.createElement(j,{profile:e.profile,initialValues:e.profile,onSubmit:function(t){e.saveProfile(t,r)}}):c.a.createElement(x,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){r(!0)}}))},D=a(19),F=a(295),M=a.n(F),C=a(296),I=a.n(C),J=function(e){return c.a.createElement("li",{className:"".concat(I.a.wrapper," clearfix")},c.a.createElement("img",{className:I.a.ava,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQctmmnXqvt0mjVKe1Jk9aOMsDh6x1jEh0IZBuirezuuVpE07dQ",alt:""}),c.a.createElement("div",{className:I.a.likes},"Likes: ",e.likes),c.a.createElement("div",{className:I.a.post},e.post))},U=a(89),V=a(297),L=a.n(V),B=Object(y.a)(10),q=Object(O.a)({form:"profileNewPost"})((function(e){return c.a.createElement("form",{className:L.a.wrapper,onSubmit:e.handleSubmit},c.a.createElement(k.a,{validate:[y.b,B],component:S.b,name:"message",className:L.a.textarea,placeholder:"Post message",rows:"2"}),c.a.createElement("button",{className:L.a.submit},"Submit"))})),z=function(e){return c.a.createElement(q,{onSubmit:function(t){e.addPost(t.message)}})},H=Object(D.b)((function(e){return{newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){return e(Object(U.a)(t))}}}))(z),K=c.a.memo((function(e){var t=e.posts.map((function(e){return c.a.createElement(J,{key:e.id,post:e.post,likes:e.likes})}));return c.a.createElement("div",{className:M.a.wrapper},c.a.createElement("h2",null,"My posts"),c.a.createElement(H,null),c.a.createElement("ul",{className:M.a.postList},t))})),Q=Object(D.b)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{}}))(K),R=(c.a.Component,function(e){return c.a.createElement("main",{className:u.a.content},c.a.createElement(A,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile,updateStatusError:e.updateStatusError,isTestError:e.isTestError}),c.a.createElement(Q,null))}),W=a(27),X=a(285),Y=a(9),Z=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId?this.props.match.params.userId:this.props.myId;this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(R,Object.assign({isOwner:!this.props.match.params.userId},this.props))}}]),a}(c.a.Component),G={getUserProfile:U.d,getStatus:U.c,updateStatus:U.g,savePhoto:U.e,saveProfile:U.f};t.default=Object(Y.d)(Object(D.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,myId:e.auth.id,isAuth:e.auth.isAuth,updateStatusError:e.profilePage.updateStatusError,isTestError:e.profilePage.isTestError}}),G),W.g,X.a)(Z)}}]);
//# sourceMappingURL=3.84da3fe6.chunk.js.map