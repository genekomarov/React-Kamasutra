{"version":3,"sources":["hoc/withAuthRedirect.js","components/Content/Profile/Profile.module.css","components/Content/Profile/ProfileData/ProfileData.module.css","components/Content/Profile/MyPosts/MyPosts.module.css","components/Content/Profile/MyPosts/Post/Post.module.css","components/Content/Profile/MyPosts/NewPost/NewPost.module.css","components/Content/Profile/ProfileData/ProfileData.jsx","components/Content/Profile/MyPosts/Post/Post.jsx","components/Content/Profile/MyPosts/NewPost/NewPost.jsx","components/Content/Profile/MyPosts/NewPost/NewPostContainer.jsx","components/Content/Profile/MyPosts/MyPosts.jsx","components/Content/Profile/MyPosts/Post/MyPostsContainer.jsx","components/Content/Profile/ProfileStatus/ProfileStatus.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Content/Profile/ProfileStatus/ProfileStatusWithHooks.jsx","components/Content/Profile/Profile.jsx","components/Content/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","ProfileData","profile","className","s","avatar__img","src","photos","large","alt","description","name","fullName","aboutMe","Preloader","Post","wrapper","ava","likes","post","maxLength10","maxLength","NewPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","validate","required","component","Textarea","textarea","placeholder","rows","submit","NewPost","formData","addPost","message","NewPostContainer","newPostText","profilePage","dispatch","addPostActionCreator","MyPosts","memo","postsElements","posts","map","p","key","id","postList","MyPostsContainer","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","Profile","content","ProfileContainer","userId","match","params","myId","getUserProfile","getStatus","mapDispatchToProps","compose","withRouter"],"mappings":"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","file":"static/js/3.7bdd3b36.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to='/login'/>;\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    return connect(mapStateToPropsRedirect)(RedirectComponent);\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"unclearBlock__img\":\"Profile_unclearBlock__img__2WXsU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar__img\":\"ProfileData_avatar__img__3zsE9\",\"name\":\"ProfileData_name__1ecZt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"MyPosts_wrapper__3mPC7\",\"postList\":\"MyPosts_postList__3KQb0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ava\":\"Post_ava__25zUJ\",\"post\":\"Post_post__3kC0c\",\"wrapper\":\"Post_wrapper__1PbfS\",\"likes\":\"Post_likes__1wKPd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NewPost_wrapper__6vRnu\",\"textarea\":\"NewPost_textarea__3doYO\",\"submit\":\"NewPost_submit__3cPch\"};","import React from 'react';\r\nimport s from './ProfileData.module.css'\r\nimport Preloader from \"../../../common/Preloader/Preloader\";\r\n\r\nconst ProfileData = (props) => {\r\n\r\n    if (!props.profile) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img className={s.avatar__img} src={props.profile.photos.large} alt=\"\"/>\r\n            </div>\r\n            <div className={`${s.description} clearfix`}>\r\n                <h2 className={s.name}>{props.profile.fullName}</h2>\r\n\r\n                <div>About me: {props.profile.aboutMe}</div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileData;","import React from 'react';\r\nimport s from './Post.module.css' //CSS import\r\n\r\nconst Post = (props) => {\r\n    return (\r\n        <li className={`${s.wrapper} clearfix`}>\r\n            <img className={s.ava} src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQctmmnXqvt0mjVKe1Jk9aOMsDh6x1jEh0IZBuirezuuVpE07dQ\" alt=\"\"/>\r\n            <div className={s.likes}>Likes: {props.likes}</div>\r\n            <div className={s.post}>{props.post}</div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport s from './NewPost.module.css'\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../../../common/FormsControls/FormsControls\";\r\n\r\nconst maxLength10 = maxLength(10);\r\n\r\nconst NewPost = (props) => {\r\n\r\n    const onAddPost = (formData) => {\r\n        props.addPost(formData.message);\r\n    };\r\n\r\n    return (\r\n        <NewPostFormRedux onSubmit={onAddPost}/>\r\n    );\r\n};\r\n\r\nconst NewPostForm = (props) => {\r\n    return (\r\n        <form className={s.wrapper} onSubmit={props.handleSubmit}>\r\n            <Field validate={[required, maxLength10]}\r\n                component={Textarea} name={'message'} className={s.textarea} placeholder={'Post message'} rows='2' />\r\n            <button className={s.submit}>Submit</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nconst NewPostFormRedux = reduxForm({form:'profileNewPost'})(NewPostForm);\r\n\r\nexport default NewPost;","import {addPostActionCreator, /*changeNewPostTextActionCreator*/} from \"../../../../../redux/profile-reducer\";\r\nimport NewPost from \"./NewPost\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (post) => dispatch (addPostActionCreator(post)),\r\n        /*changeNewPostText: (text) => dispatch (changeNewPostTextActionCreator(text))*/\r\n    }\r\n};\r\n\r\nconst NewPostContainer = connect(mapStateToProps, mapDispatchToProps)(NewPost);\r\n\r\nexport default NewPostContainer;","import React from 'react';\r\nimport s from './MyPosts.module.css'\r\nimport Post from \"./Post/Post\";\r\nimport NewPostContainer from \"./NewPost/NewPostContainer\";\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n    let postsElements =\r\n        props.posts\r\n            .map(p => <Post key={p.id} post={p.post} likes={p.likes}/>);\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <h2>My posts</h2>\r\n            <NewPostContainer/>\r\n            <ul className={s.postList}>\r\n                {postsElements}\r\n            </ul>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import {connect} from \"react-redux\";\r\nimport MyPosts from \"../MyPosts\";\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        posts: state.profilePage.posts\r\n    }\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n    }\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\n//import s from '   '\r\n\r\nclass ProfileStatus extends React.Component{\r\n\r\n    state = {\r\n        editMode: false,\r\n        status: this.props.status\r\n    };\r\n\r\n    activateEditMode = () => {\r\n        this.setState({  //Асинхронная функция. Выполняется после всей синхронной работы функции\r\n            editMode: true,\r\n            status: this.props.status\r\n        })\r\n    };\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({  //Асинхронная функция. Выполняется после всей синхронной работы функции\r\n            editMode: false\r\n        });\r\n        this.props.updateStatus(this.state.status);\r\n    };\r\n\r\n    onStatusChange = (e) => {\r\n          this.setState({\r\n              status: e.currentTarget.value\r\n          });\r\n    };\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {!this.state.editMode &&\r\n                    <div>\r\n                        <span onDoubleClick={this.activateEditMode}>{this.props.status || '-----'}</span>\r\n                    </div>\r\n                }\r\n                {this.state.editMode &&\r\n                    <div>\r\n                        <input onChange={this.onStatusChange} autoFocus={true} value={this.state.status} onBlur={this.deactivateEditMode}/>\r\n                    </div>\r\n                }\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ProfileStatus;","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, {useEffect, useState} from 'react';\r\n//import s from '   '\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    /*let stateWithSetState = useState(false);\r\n    let editMode = stateWithSetState[0];\r\n    let setEditMode = stateWithSetState[1];*/\r\n\r\n    let [editMode, setEditMode] = useState(false); //деструктурирующее присваивание\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status);\r\n    }, [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    };\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    };\r\n\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <span onDoubleClick={activateEditMode}>{props.status || '-----'}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input\r\n                    value={status}\r\n                    onChange={onStatusChange} onBlur={deactivateEditMode} autoFocus={true} />\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;","import React from 'react';\r\nimport s from './Profile.module.css';\r\nimport ProfileData from \"./ProfileData/ProfileData\";\r\nimport MyPostsContainer from \"./MyPosts/Post/MyPostsContainer\";\r\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatus/ProfileStatusWithHooks\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    return (\r\n        <main className={s.content}>\r\n            {/*<div>\r\n                <img className={s.unclearBlock__img}\r\n                     src=\"https://s1.1zoom.me/big0/930/Coast_Sunrises_and_sunsets_Waves_USA_Ocean_Kaneohe_521540_1280x775.jpg\"\r\n                     alt=\"\"/>\r\n            </div>*/}\r\n            <ProfileData profile={props.profile}/>\r\n            <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n        </main>\r\n    )\r\n};\r\n\r\n\r\n\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../../redux/profile-reducer\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../../hoc/withAuthRedirect\"; //Не удалять, код временно выключен\r\nimport {compose} from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component{\r\n\r\n    componentDidMount() {\r\n\r\n        let userId = !this.props.match.params.userId ? this.props.myId : this.props.match.params.userId;\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    render() {\r\n        return <Profile {...this.props} />;\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    myId: state.auth.id,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nlet mapDispatchToProps = {\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus,\r\n};\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileContainer);"],"sourceRoot":""}